<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>
  <link rel="icon" type="image/png" href="assets/image/favGrigio.png" sizes="32x32" />
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta charset="utf-8" />
  <title>Fase Project</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <script src="sketch.js"></script>

  <style>
	  /*Page scroll*/
	  body {
		  overflow-y: scroll;
}
	  
body::-webkit-scrollbar {
display: none;
}

body {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}  
	  
    /*Set typeface family*/
    @font-face {
      font-family: "Fase";
      src: url('assets/fonts/Fase.woff2') format("woff2-variations"), url('assets/fonts/Fase.ttf') format("truetype-variations");
      font-weight: 85 159;
    }

/*Button active*/
#infoButton {
	color: #202124;
	border-bottom: 4px solid #202124;
}
	  
.dark-mode #infoButton {
	color: #ffffff;
	border-bottom: 4px solid #ffffff;
}  

  </style>
</head>

<body>

  <!--Title-->
  <div>
    <a href="./home.html">
      <h1 id="headerTitle">Fase Project</h1>
    </a>
  </div>

    <!-- Top Navigation Menu -->
    <div class="dropdown">
		
      <button class="dropbtn" onclick="closeLayer()">
        <svg class="burgerLine" id="burgerLine1" height="20" width="22">
          <line x1="0" y1="0" x2="22" y2="0"></line>
        </svg>

        <svg class="burgerLine" id="burgerLine2" height="20" width="22">
          <line x1="0" y1="0" x2="22" y2="0"></line>
        </svg>

        <svg class="burgerLine" id="burgerLine3" height="20" width="22">
          <line x1="0" y1="0" x2="22" y2="0"></line>
        </svg>
      </button>
		
      <div id="dropdown-content">
        <a href="./info.html">Info</a>
        <a href="https://github.com/diegomassaroo/Fase-Project/archive/main.zip" download="">Download</a>
      </div>
		
    </div>

  <!--Info button-->
  <div>
  <a href="./info.html">
  <p class="button" id="infoButton">Info</p>
  </a>
  </div>

  <!--Download button-->
  <div>
    <a href="https://github.com/diegomassaroo/Fase-Project/archive/main.zip" download>
      <p class="button" id="downloadButton">Download</p>
    </a>
  </div>

  <!--Dark mode button-->
  <div onclick="darkModeButton()">
    <div class="darkmodeButton">
      <svg height="30" width="30">
        <circle cx="15" cy="15" r="14" /></svg>
    </div>
    <div class="darkmodeButton2">
      <svg height="30" width="14">
        <circle cx="0" cy="15" r="14" /></svg>
    </div>
  </div>

  <!--Rect divider-->
  <div class="rectTop">
  </div>

  <!--Light value-->
  <div id="lightLevel">
  </div>
	
  <!--Info text-->
	<div class="col-about">
		<div class="col-title">
		<div class="dividerTitle">
  		</div>
		<h2 class="infoTitle">About Fase</h2>
		</div>
			<div class="col-text">
			<div class="dividerText">
  			</div>
			<p class="infoAbout">Fase is a variable sans-serif and humanist typeface with references to grotesque traits. Its purpose is to adapt texts according to luminous conditions in the environment in order to speed reading times up. Fase is a highly legible and functional typeface, characterised by open shapes, where each reading is intended to be different from the others. Originally the typeface's area of application is purely digital, however the possibility that its utility could be extended to other platforms cannot be excluded. The typeface is provided with an axes of variation with a weight from Regular to Bold.</p>
		</div>
		<div class="col-title">
		<div class="dividerTitle">
  		</div>
		<h2 class="infoTitle">Project Concept</h2>
		</div>
			<div class="col-text">
			<div class="dividerText">
  			</div>
			<p class="infoProject">Recently the use of devices with displays has become more and more common, consequently conditions such as the lighting of an ambient can affect the fruition of contents and information. In case of elevated lighting, it is known that there will be a loss of contrast between text and background. A low contrast means a reduction in visibility and reading performance. Some scientific studies have demonstrated that the use of increased weight like Medium, Semi-Bold or Bold augments legibility and can have advantages in conditions of low contrast. What's more, it has been discovered that in conditions of low contrast the augmentation of an object's dimensions can increase contrast, making the object equal to a target with higher contrast.<br><br>

The project's proposal is to enhance the typeface's weight according to the light level in the area of observation. The use of a variable typeface is important, given its properties of constant adjustment. Increased legibility, speed of acquisition and cognizance of texts turn into a better usage of devices.<br><br>

The developed typeface is available to download for future projects from third parties too. It's necessary to click on the designated button to start the download. Along with it, the code that enables the link between the light sensor and the axes of variation is provided too.
</p><div class="col-space">
				</div>
		<div class="col-s-contact">
		<div class="dividerTitle">
  		</div>
		<h2 class="infoTitle infoTitle-s">Contact</h2>
			<div class="dividerInfo">
  			</div>
		<div class="infoContact">
			<p>Designed by Diego Massaro<br>
        Supervised by Jonathan Pierini</p>
      <a class="contactLink" href="https://isiaurbino.net/" target="_blank">ISIA U</a> 2020/2021<br><a class="contactLink" href="mailto:diemassaro@gmail.com" target="_top">Mail</a> &nbsp;<a class="contactLink" href="https://www.instagram.com/diegomassaro/" target="_blank">Instagram</a>&nbsp; <a class="contactLink" href="https://www.behance.net/diegomassaro/" target="_blank">Behance</a>
		</div>
		</div>
				
	</div>
	</div>
	<div class="col-contact">
		<div class="col-contact2">
			<div class="dividerInfo">
  			</div>
		<div class="infoContact">
			<p>Designed by Diego Massaro<br>
        Supervised by Jonathan Pierini</p>
      <a class="contactLink" href="https://isiaurbino.net/" target="_blank">ISIA U</a> 2020/2021<br><a class="contactLink" href="mailto:diemassaro@gmail.com" target="_top">Mail</a> &nbsp;<a class="contactLink" href="https://www.instagram.com/diegomassaro/" target="_blank">Instagram</a>&nbsp; <a class="contactLink" href="https://www.behance.net/diegomassaro/" target="_blank">Behance</a>
		</div>
		</div>
		</div>
	
	  <!--Light value-->
  <div id="lightLevel">
  </div>

  <script id="rendered-js">
    // This only works behind a flag in chrome
    // More information here: https://www.chromestatus.com/feature/5298357018820608
    // Set flag here: chrome://flags/
    // See if your browser support the light sensor api:https://caniuse.com/?search=ambient%20light%20sensor

    //Choose which element to change
    var changeText = document.getElementById("typeTester");

    changeText.addEventListener("input", function() {
      this.setAttribute("data-text", this.innerText);
    });

    //Set min and max value for font and light
    const minAxisValue = 159;
    const maxAxisValue = 85;

    const minEventValue = 0;
    const maxEventValue = 3000;

    //CSS that change font weight
    changeText.style.setProperty("--axis", 85);

    //Setting light value correspond to axis value
    if ('AmbientLightSensor' in window) {
      const sensor = new AmbientLightSensor();
      sensor.onreading = () => {

        fluidAxisVariation(minAxisValue, maxAxisValue, minEventValue, maxEventValue, sensor.illuminance, "--axis", changeText);

        //Print sensor value
        lightLevel.innerHTML = 'Ambient light value: ' + sensor.illuminance + ' lux';
        //console.log('Current light level:', sensor.illuminance);
      };
      sensor.onerror = (event) => {
        console.log(event.error.name, event.error.message);
      };
      sensor.start();
    }

    //Proprortion and calculation to transform light value into axis value
    function fluidAxisVariation(minimumAxisValue, maximumAxisValue, minimumEventValue, maximumEventValue, eventValue, axisCustomPropertyName, element) {

      const minAxisValue = minimumAxisValue;
      const maxAxisValue = maximumAxisValue;
      const minEventValue = minimumEventValue;
      const maxEventValue = maximumEventValue;
      const currentEventValue = eventValue;

      const eventPercent = (currentEventValue - minEventValue) / (maxEventValue - minEventValue);
      const fontAxisScale = eventPercent * (minAxisValue - maxAxisValue) + maxAxisValue;

      const fontAxisScale2 = eventPercent * (minAxisValue - maxAxisValue) + maxAxisValue;

      const newAxisValue = currentEventValue > maxEventValue ?
        minAxisValue :
        currentEventValue < minEventValue ?
        maxAxisValue :
        fontAxisScale;

      element.style.setProperty(axisCustomPropertyName, newAxisValue);
    }
  </script>

</body>

</html>